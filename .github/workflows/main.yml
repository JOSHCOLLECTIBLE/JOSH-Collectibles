name: Telegram Photo Drop
on:
  push:
    paths:
      - 'uploads/**' # This triggers when you add a photo to the "uploads" folder

jobs:
  post:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Send Photo to Telegram
        run: |
          # This line automatically sends the newest photo in your uploads folder
          FILE=$(ls -t uploads/*.jpg | head -1)
          curl -s -X POST "https://api.telegram.org/bot${{ secrets.TELEGRAM_BOT_TOKEN }}/sendPhoto" \
            -F chat_id="${{ secrets.TELEGRAM_CHAT_ID }}" \
            -F photo="@$FILE" \
            -F caption="ðŸ“¸ New Collectible Drop! ðŸš€"
